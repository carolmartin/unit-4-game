<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Gummy Game</title>

    <!-- Add link for external CSS -->
    <link rel="stylesheet" href="assets/css/style.css">

    <!-- Added link to the JQuery Library  -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

    <!-- Added a link to Bootstrap -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">

</head>
<!-- CSS Styles -->
<style>
    #display {
        margin-top: 78px;
        height: 500px;
        width: 220px;
        margin-left: 60px;
    }

    #images {
        padding-top: 60px;
    }

    #buttons {
        padding-top: 60px;
    }

    .gummyImage {
        width: 60px;
        height: 60px;
        border-style: solid;
        padding: 4px;
        float: left;
        margin: 2px;
    }
</style>


<body>

    <!-- Display headers and boxes for the random number, gummy bear buttons, number of wins and losses. -->
    <div class="jumbotron">
        <h1>Gummy Collector!!</h1>
    </div>

    <div class="container">
        <p>You will be given a random number at the start of the game.</p>

        <p>There are 4 gummies below. By clicking on a gummy you will add a specific amount to your guess</p>

        <p>The value of each gummy is hidden from you until you click on it.</p>

        <p>You win the game by matching your total score to random number. You lose the game if your total score goes above
            the random number</p>


        <h1>Number to Guess:
            <span id="numberToGuess"></span>
        </h1>

        <h1>Total Guess Counter:
            <span id="counter"></span>
        </h1>



        <div id="images"></div>



    </div>

    <script type="text/javascript">
        var numberToGuess;
        var wins = 0;
        var losses = 0;
        var tallyGuess = 0;
        var counter = 0;

        // Calculate a random number betwen 19 and 120 and display this in numberToGuess -->
        numberToGuess = Math.floor((Math.random() * 120) + 19);

        // $("#numberToGuess").text(Math.floor((Math.random() * 120) + 19));
        document.getElementById('numberToGuess').innerHTML = numberToGuess;
        console.log(numberToGuess);

        $(document).ready(function () {

            // initialize the gummy buttons
            var gummies = ['yellow', 'red', 'green', 'orange'];
            // Create a for loop to iterate through the gummy colors array.
            for (var i = 0; i < gummies.length; i++) {
                var imgGummy = $("<img>");
                console.log("created image" + i);
                // give each "imgGummy" the following classes: "gummy-img" "gummy"
                imgGummy.addClass("gummyImage");
                console.log("added gummyImage class");
                // give each gummyImg an attribute to hold the random value
                var gummyRandomNum = Math.floor(Math.random() * 12 + 1);
                console.log("gummy random # is " + gummyRandomNum);
                imgGummy.attr("gummyNumber", gummyRandomNum);
                // map the appropriate img based on the index to imgGummy
                if (gummies[i] === "yellow") {
                    imgGummy.attr("src", "assets/images/gummy-yellow.jpg")
                    console.log("yellow")
                }
                else if (gummies[i] === "red") {
                    imgGummy.attr("src", "assets/images/gummy-red.jpg")
                }
                else if (gummies[i] === "green") {
                    imgGummy.attr("src", "assets/images/gummy-green.jpg")
                }
                else {
                    imgGummy.attr("src", "assets/images/gummy-orange.jpg")
                }

                $("#images").append(imgGummy);

            }
            // On-click of the gummy, add the hidden amount to the tally. if the tally is  equal 
            // to the number to Guess - will add one to winner.
            $(".gummyImage").on("click", function () {

                var gummyValue = ($(this).attr("gummyNumber"));
                gummyValue = parseInt(gummyValue);
                console.log("in on click. gummyValue is " + gummyValue);
                // Add the Value assigned to the gummy to a counter
                counter += gummyValue;
                console.log("counter is : " + counter);
                //display counter in the header information
                document.getElementById('counter').innerHTML = counter;
                // Compare counter with the Random number we are trying to match
                compareValues(counter, numberToGuess);


            });
            function compareValues(counter, numberToGuess) {
                var intToGuess = parseInt(numberToGuess);
                console.log("compare values function" + counter);
                console.log("compare numberto Guess: " + numberToGuess);

                if (counter > intToGuess) {
                    losses += losses;
                    alert("You lost!");
                }
                else if (counter == intToGuess) {
                    wins += wins;
                    alert("You won!");
                }


            };

        });
    </script>


</body>

</html>